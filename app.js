// Textes pour chaque langue
const translations = {
    "fr": {
        "heroTitle": "HumanCoin ($HUMC) - La révolution est en marche",
        "heroSubtitle": "HumanCoin est la première cryptomonnaie permettant la tokenisation de notre civilisation.",
        "heroLine1": "8,2 milliards de jetons disponibles, chaque jeton correspondant à un être humain sur Terre.",
        "heroLine2": "Saisis ta chance de sauver le maximum d'humains des griffes du destin !",
        "launchPrice": "Prix au lancement : 0,01€/HumanCoin",
        "preventeTitle": "Prévente de HumanCoin",
        "preventeText": "Détenteur ou détenu ? Un seul HumanCoin te correspond sur les 8,2 milliards disponibles. Dépêche-toi de l'acquérir avant qu'un autre ne fasse de toi un détenu !",
        "walletLabel": "Adresse Wallet :",
        "amountLabel": "Montant en $HUMC :",
        "buyButton": "Acheter des $HUMC",
        "fundsTitle": "Nombre d'HumanCoin actuellement détenu",
        "roadmapTitle": "Roadmap de HumanCoin - Un Voyage vers l'Impact Social et l'Innovation"
    },
    "en": {
        "heroTitle": "HumanCoin ($HUMC) - The revolution is underway",
        "heroSubtitle": "HumanCoin is the first cryptocurrency to enable the tokenization of our civilization.",
        "heroLine1": "8.2 billion tokens available, each corresponding to a human on Earth.",
        "heroLine2": "Seize your chance to save as many humans as possible from the clutches of fate!",
        "launchPrice": "Launch Price: €0.01/HumanCoin",
        "preventeTitle": "HumanCoin Presale",
        "preventeText": "Holder or detainee? Only one HumanCoin corresponds to you out of the 8.2 billion available. Hurry to acquire it before someone else makes you a detainee!",
        "walletLabel": "Wallet Address:",
        "amountLabel": "Amount in $HUMC:",
        "buyButton": "Buy $HUMC",
        "fundsTitle": "Current Number of HumanCoins Held",
        "roadmapTitle": "HumanCoin Roadmap - A Journey Towards Social Impact and Innovation"
    },
    "it": {
        "heroTitle": "HumanCoin ($HUMC) - La rivoluzione è in corso",
        "heroSubtitle": "HumanCoin è la prima criptovaluta che consente la tokenizzazione della nostra civiltà.",
        "heroLine1": "8,2 miliardi di token disponibili, ciascuno corrispondente a un essere umano sulla Terra.",
        "heroLine2": "Cogli l'opportunità di salvare il massimo numero di esseri umani dalle grinfie del destino!",
        "launchPrice": "Prezzo di lancio: 0,01€/HumanCoin",
        "preventeTitle": "Prevendita di HumanCoin",
        "preventeText": "Detenuto o possessore? Solo un HumanCoin corrisponde a te su 8,2 miliardi disponibili. Affrettati ad acquistarlo prima che qualcun altro ti renda un detenuto!",
        "walletLabel": "Indirizzo Wallet:",
        "amountLabel": "Importo in $HUMC:",
        "buyButton": "Acquista $HUMC",
        "fundsTitle": "Numero di HumanCoin attualmente detenuto",
        "roadmapTitle": "Roadmap di HumanCoin - Un viaggio verso l'impatto sociale e l'innovazione"
    },
    "de": {
        "heroTitle": "HumanCoin ($HUMC) - Die Revolution ist im Gange",
        "heroSubtitle": "HumanCoin ist die erste Kryptowährung, die die Tokenisierung unserer Zivilisation ermöglicht.",
        "heroLine1": "8,2 Milliarden Token verfügbar, jeder entspricht einem Menschen auf der Erde.",
        "heroLine2": "Nutze deine Chance, so viele Menschen wie möglich vor dem Schicksal zu retten!",
        "launchPrice": "Startpreis: 0,01€/HumanCoin",
        "preventeTitle": "HumanCoin Vorverkauf",
        "preventeText": "Besitzer oder Gefangener? Nur ein HumanCoin gehört dir aus den 8,2 Milliarden verfügbaren. Beeil dich, ihn zu erwerben, bevor jemand anderes dich zum Gefangenen macht!",
        "walletLabel": "Wallet-Adresse:",
        "amountLabel": "Betrag in $HUMC:",
        "buyButton": "Kaufe $HUMC",
        "fundsTitle": "Aktuelle Anzahl der gehaltenen HumanCoins",
        "roadmapTitle": "HumanCoin Roadmap - Eine Reise zu sozialer Wirkung und Innovation"
    },
    "ru": {
        "heroTitle": "HumanCoin ($HUMC) - Революция в разгаре",
        "heroSubtitle": "HumanCoin — первая криптовалюта, позволяющая токенизировать нашу цивилизацию.",
        "heroLine1": "Доступно 8,2 миллиарда токенов, каждый из которых соответствует одному человеку на Земле.",
        "heroLine2": "Схвати шанс спасти как можно больше людей от когтей судьбы!",
        "launchPrice": "Цена при запуске: 0,01€/HumanCoin",
        "preventeTitle": "Предпродажа HumanCoin",
        "preventeText": "Владелец или заключённый? Только один HumanCoin соответствует вам из 8,2 миллиардов доступных. Поторопитесь приобрести его, прежде чем кто-то сделает вас заключённым!",
        "walletLabel": "Адрес кошелька:",
        "amountLabel": "Сумма в $HUMC:",
        "buyButton": "Купить $HUMC",
        "fundsTitle": "Количество удерживаемых HumanCoin",
        "roadmapTitle": "Дорожная карта HumanCoin - Путешествие к социальному влиянию и инновациям"
    },
    "es": {
        "heroTitle": "HumanCoin ($HUMC) - La revolución está en marcha",
        "heroSubtitle": "HumanCoin es la primera criptomoneda que permite la tokenización de nuestra civilización.",
        "heroLine1": "8.2 mil millones de tokens disponibles, cada uno correspondiente a un ser humano en la Tierra.",
        "heroLine2": "¡Aprovecha la oportunidad de salvar a tantos humanos como sea posible de las garras del destino!",
        "launchPrice": "Precio de lanzamiento: 0,01€/HumanCoin",
        "preventeTitle": "Preventa de HumanCoin",
        "preventeText": "¿Propietario o detenido? Solo un HumanCoin te corresponde entre los 8.2 mil millones disponibles. ¡Apresúrate a adquirirlo antes de que alguien más te haga prisionero!",
        "walletLabel": "Dirección del Wallet:",
        "amountLabel": "Cantidad en $HUMC:",
        "buyButton": "Comprar $HUMC",
        "fundsTitle": "Cantidad actual de HumanCoin en posesión",
        "roadmapTitle": "Hoja de ruta de HumanCoin - Un viaje hacia el impacto social y la innovación"
    }
};

// Fonction pour changer la langue
function changeLanguage() {
    const lang = document.getElementById('language-select').value; // Récupérer la langue sélectionnée
    document.getElementById('hero-title').textContent = translations[lang].heroTitle;
    document.getElementById('hero-subtitle').textContent = translations[lang].heroSubtitle;
    document.getElementById('hero-line1').textContent = translations[lang].heroLine1;
    document.getElementById('hero-line2').textContent = translations[lang].heroLine2;
    document.getElementById('launch-price').textContent = translations[lang].launchPrice;
    document.getElementById('prevente-title').textContent = translations[lang].preventeTitle;
    document.getElementById('prevente-text').textContent = translations[lang].preventeText;
    document.getElementById('wallet-label').textContent = translations[lang].walletLabel;
    document.getElementById('amount-label').textContent = translations[lang].amountLabel;
    document.getElementById('buy-button').textContent = translations[lang].buyButton;
    document.getElementById('funds-title').textContent = translations[lang].fundsTitle;
    document.getElementById('roadmap-title').textContent = translations[lang].roadmapTitle;
}

// Détecter le changement de langue
document.getElementById('language-select').addEventListener('change', changeLanguage);

// Total initial de tokens
const totalTokens = "8200000000";

// Montant de tokens vendus (qui va augmenter au fur et à mesure des ventes)
let tokensSold = 0;

// Fonction pour afficher les tokens avec les chiffres vendus en gris foncé et séparateur de milliers
function updateTokenDisplay() {
    console.log('Mise à jour de l\'affichage des tokens'); // Log pour vérifier que la fonction est appelée
    const totalTokensElement = document.getElementById('total-tokens');
    
    if (!totalTokensElement) {
        console.error('Élément avec l\'ID "total-tokens" introuvable');
        return;
    }
    
    totalTokensElement.innerHTML = ''; // Vider l'élément
    console.log('Élément "total-tokens" vidé');

    // Conversion en chaîne avec séparateurs de milliers (espace en France)
    const totalStr = Number(totalTokens).toLocaleString('fr-FR').split('');
    const soldStr = Number(tokensSold).toLocaleString('fr-FR').padStart(totalStr.length, '0').split('');

    console.log('Total des tokens:', totalStr);
    console.log('Tokens vendus:', soldStr);

    for (let i = 0; i < totalStr.length; i++) {
        const span = document.createElement('span');
        span.textContent = totalStr[i];
        
        // Vérifier si c'est un chiffre et non un séparateur, appliquer le style
        if (isFinite(totalStr[i])) {
            span.classList.add('number-box'); // Appliquer la classe pour les chiffres
            if (soldStr[i] !== '0') { // Si la valeur correspond à un chiffre vendu
                span.classList.add('sold'); // Appliquer la classe pour les chiffres vendus
                console.log('Chiffre vendu trouvé:', totalStr[i]);
            }
        } else {
            span.classList.add('separator'); // Classe sans cadre vert pour les séparateurs
            console.log('Séparateur ajouté:', totalStr[i]);
        }

        totalTokensElement.appendChild(span);
    }
    console.log('Affichage des tokens mis à jour');
}

// Simuler l'achat de tokens (en augmentant la valeur de tokensSold)
function simulateTokenSale() {
    tokensSold++; // Augmenter le nombre de tokens vendus
    console.log('Nouveau token vendu, total vendu:', tokensSold);
    updateTokenDisplay(); // Mettre à jour l'affichage
}

// Ajouter un écouteur d'événements pour vérifier le chargement du document avant de démarrer l'intervalle
document.addEventListener('DOMContentLoaded', () => {
    console.log('Document chargé, initialisation de l\'affichage des tokens');
    updateTokenDisplay(); // Initialiser l'affichage des tokens
    setInterval(simulateTokenSale, 600); // Simuler une vente toutes les 600 ms pour obtenir environ 100 par minute
});
